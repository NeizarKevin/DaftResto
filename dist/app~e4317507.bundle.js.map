{"version":3,"file":"app~e4317507.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/routes/routes.js","webpack://restaurant-apps/./src/scripts/routes/url-parser.js","webpack://restaurant-apps/./src/scripts/utils/detail-helper.js","webpack://restaurant-apps/./src/scripts/utils/drawer-initiator.js","webpack://restaurant-apps/./src/scripts/utils/like-button-presenter.js","webpack://restaurant-apps/./src/scripts/utils/date-helper.js","webpack://restaurant-apps/./src/scripts/utils/review-initiator.js","webpack://restaurant-apps/./src/scripts/utils/sw-register.js"],"sourcesContent":["import Detail from '../views/pages/detail';\nimport Favorite from '../views/pages/favorite';\nimport Home from '../views/pages/home';\n\nconst routes = {\n  '/': Home, // default page\n  '/home': Home,\n  '/favorite': Favorite,\n  '/detail/:id': Detail,\n};\n\nexport default routes;\n","const UrlParser = {\n  parseActiveUrlWithCombiner() {\n    const url = window.location.hash.slice(1).toLowerCase();\n    const splitedUrl = this._urlSplitter(url);\n    return this._urlCombiner(splitedUrl);\n  },\n\n  parseActiveUrlWithoutCombiner() {\n    const url = window.location.hash.slice(1).toLowerCase();\n    return this._urlSplitter(url);\n  },\n\n  _urlSplitter(url) {\n    const urlsSplits = url.split('/');\n    return {\n      resource: urlsSplits[1] || null,\n      id: urlsSplits[2] || null,\n      verb: urlsSplits[3] || null,\n    };\n  },\n\n  _urlCombiner(splitedUrl) {\n    return (\n      (splitedUrl.resource ? `/${splitedUrl.resource}` : '/')\n      + (splitedUrl.id ? '/:id' : '')\n      + (splitedUrl.verb ? `/${splitedUrl.verb}` : '')\n    );\n  },\n};\n\nexport default UrlParser;\n","/* eslint-disable import/no-cycle */\nimport { createCustomerReviewTemplate } from '../views/templates/template-creator';\n\nconst DetailHelper = {\n  eachCustomerReview({ customerReviews }) {\n    let customerReviewsString = '';\n    customerReviews.forEach((customerReview) => {\n      customerReviewsString += createCustomerReviewTemplate(customerReview);\n    });\n\n    return customerReviewsString;\n  },\n};\n\nexport default DetailHelper;\n","const DrawerInitiator = {\n  init({ button, drawer, content }) {\n    button.addEventListener('click', (event) => {\n      this._toggleDrawer(event, drawer);\n    });\n\n    content.addEventListener('click', (event) => {\n      this._closeDrawer(event, drawer);\n    });\n  },\n\n  _toggleDrawer(event, drawer) {\n    event.stopPropagation();\n    drawer.classList.toggle('open');\n  },\n\n  _closeDrawer(event, drawer) {\n    event.stopPropagation();\n    drawer.classList.remove('open');\n  },\n};\n\nexport default DrawerInitiator;\n","import { createLikeRestaurantButtonTemplate, createUnlikeRestaurantButtonTemplate } from '../views/templates/template-creator';\n\nconst LikeButtonPresenter = {\n  async init({ likeButtonContainer, favoriteRestaurant, restaurant }) {\n    this._likeButtonContainer = likeButtonContainer;\n    this._restaurant = restaurant;\n    this._favoriteRestaurant = favoriteRestaurant;\n\n    await this._renderButton();\n  },\n\n  async _renderButton() {\n    const { id } = this._restaurant;\n\n    if (await this._isRestaurantExist(id)) {\n      this._renderLiked();\n    } else {\n      this._renderLike();\n    }\n  },\n\n  async _isRestaurantExist(id) {\n    const restaurant = await this._favoriteRestaurant.getRestaurant(id);\n    return !!restaurant;\n  },\n\n  _renderLike() {\n    this._likeButtonContainer.innerHTML = createLikeRestaurantButtonTemplate();\n\n    const likeButton = document.querySelector('#likeButton');\n    likeButton.addEventListener('click', async () => {\n      await this._favoriteRestaurant.putRestaurant(this._restaurant);\n      this._renderButton();\n    });\n  },\n\n  _renderLiked() {\n    this._likeButtonContainer.innerHTML = createUnlikeRestaurantButtonTemplate();\n\n    const likeButton = document.querySelector('#likeButton');\n    likeButton.addEventListener('click', async () => {\n      await this._favoriteRestaurant.deleteRestaurant(this._restaurant.id);\n      this._renderButton();\n    });\n  },\n};\n\nexport default LikeButtonPresenter;\n","const DateHelper = {\n  monthNamesCheck(number) {\n    switch (Number(number)) {\n      case 0:\n        return 'January';\n      case 1:\n        return 'February';\n      case 2:\n        return 'March';\n      case 3:\n        return 'April';\n      case 4:\n        return 'May';\n      case 5:\n        return 'June';\n      case 6:\n        return 'July';\n      case 7:\n        return 'August';\n      case 8:\n        return 'September';\n      case 9:\n        return 'October';\n      case 10:\n        return 'November';\n      case 11:\n        return 'December';\n      default:\n        return 'Unknown';\n    }\n  },\n};\n\nexport default DateHelper;\n","/* eslint-disable no-alert */\nimport RestaurantDbSource from '../data/restaurantdb-source';\nimport UrlParser from '../routes/url-parser';\nimport {\n  createCustomerReviewFormTemplate,\n  createCustomerReviewTemplate,\n} from '../views/templates/template-creator';\nimport DateHelper from './date-helper';\n\nconst ReviewInitiator = {\n  init({ customerReviewContainer, customerReviewFormContainer }) {\n    this._customerReviewContainer = customerReviewContainer;\n    this._customerReviewFormContainer = customerReviewFormContainer;\n    this._renderForm();\n  },\n\n  _renderForm() {\n    this._customerReviewFormContainer.innerHTML = createCustomerReviewFormTemplate();\n    this._isFormSubmitted();\n  },\n\n  _isFormSubmitted() {\n    const reviewFormElement = document.querySelector('#form-review');\n\n    reviewFormElement.addEventListener('submit', (e) => {\n      e.preventDefault();\n\n      const url = UrlParser.parseActiveUrlWithoutCombiner();\n      const inputName = document.querySelector('#inputName');\n      const inputReview = document.querySelector('#inputReview');\n      const data = {\n        id: url.id,\n        name: inputName.value,\n        review: inputReview.value,\n      };\n      this._makeRequest(data);\n    });\n  },\n\n  async _makeRequest(data) {\n    const inputName = document.querySelector('#inputName');\n    const inputReview = document.querySelector('#inputReview');\n    const responseJSON = await RestaurantDbSource.postRestaurantReview(data);\n    const date = new Date();\n    const { id } = data;\n    const { name } = data;\n    const { review } = data;\n    if ((await responseJSON.error) === false) {\n      this._customerReviewContainer.innerHTML += createCustomerReviewTemplate({\n        id,\n        name,\n        review,\n        date: `\n        ${date.getDate()} ${DateHelper.monthNamesCheck(date.getMonth())} ${date.getFullYear()}\n         `,\n      });\n      inputName.value = '';\n      inputReview.value = '';\n\n      alert('Review has been successfuly added!');\n    } else {\n      alert('salah', await responseJSON.message);\n    }\n  },\n};\n\nexport default ReviewInitiator;\n","import * as WorkboxWindow from 'workbox-window';\n\nconst swRegister = async () => {\n  if (!('serviceWorker' in navigator)) {\n    console.log('Service Worker not supported in the browser');\n    return;\n  }\n\n  const wb = new WorkboxWindow.Workbox('/sw.bundle.js');\n\n  try {\n    await wb.register();\n    console.log('Service worker registered');\n  } catch (error) {\n    console.log('Failed to register service worker', error);\n  }\n};\n\nexport default swRegister;\n"],"names":["Detail","Favorite","Home","routes","UrlParser","parseActiveUrlWithCombiner","url","window","location","hash","slice","toLowerCase","splitedUrl","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlsSplits","split","resource","id","verb","createCustomerReviewTemplate","DetailHelper","eachCustomerReview","customerReviews","customerReviewsString","forEach","customerReview","DrawerInitiator","init","button","drawer","content","addEventListener","event","_toggleDrawer","_closeDrawer","stopPropagation","classList","toggle","remove","createLikeRestaurantButtonTemplate","createUnlikeRestaurantButtonTemplate","LikeButtonPresenter","likeButtonContainer","favoriteRestaurant","restaurant","_likeButtonContainer","_restaurant","_favoriteRestaurant","_renderButton","_isRestaurantExist","_renderLiked","_renderLike","getRestaurant","innerHTML","likeButton","document","querySelector","putRestaurant","deleteRestaurant","DateHelper","monthNamesCheck","number","Number","RestaurantDbSource","createCustomerReviewFormTemplate","ReviewInitiator","customerReviewContainer","customerReviewFormContainer","_customerReviewContainer","_customerReviewFormContainer","_renderForm","_isFormSubmitted","reviewFormElement","e","preventDefault","inputName","inputReview","data","name","value","review","_makeRequest","postRestaurantReview","responseJSON","date","Date","error","getDate","getMonth","getFullYear","alert","message","WorkboxWindow","swRegister","navigator","console","log","wb","Workbox","register"],"sourceRoot":""}